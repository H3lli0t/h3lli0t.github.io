---
title: "CMD For Pentesters"
layout: post
date: 2023-11-26 20:44
image: https://devblogs.microsoft.com/commandline/wp-content/uploads/sites/33/2019/03/CommandLineIcon.png
headerImage: true
tag:
- Tips
- CMD
- Ethical Hacking
- Pentesting
- Windows
- Active Directory
- CLI
star: false
category: blogs
author: johndoe
description: ""

---

# Overview

This blog covers the principle commands in windows used in different stages of a penetration test like system enumeration, domain recon, post exploitation...

---

# Basic Windows Commands

### List all users

```bash
net users
wmic USERACCOUNT Get Name
```

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_08_16-Window.png>)

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_24_20-Window.png>)

### Get user info

```bash
net user %username%
```
![Alt text](<../../assets/images/BlogPics/2023-11-25 19_19_27-Window.png>)

### Get the current user & privilege info

```bash
whoami /all
whoami /priv
```

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_00_12-Window.png>)

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_09_27-Window.png>)

### Create user

```bash
net user /add [username] [password]
```

### List all groups

```bash
net localgroup
```

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_25_17-Window.png>)

### Add user to a group

```bash
net localgroup [groupname] [username] /add
```

### List password requirements info

```bash
net accounts
```

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_21_50-Window.png>)

### List content of a directory

```bash
dir /b /ad "C:\\Users"
```

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_11_11-Window.png>)

### List stored credentials

```bash
cmdkey /list
```

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_27_05-Window.png>)

### List all environment variables

```bash
set
```

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_35_21-Window.png>)

### View current network shares

```bash
net share
```

![Alt text](<../../assets/images/BlogPics/2023-11-25 19_47_49-Window.png>)

### View info about interfaces

```bash
ipconfig /all
```

![Alt text](<../../assets/images/BlogPics/2023-11-26 20_49_36-Command Prompt.png>)

### Print known hosts

```bash
arp -a
```

![Alt text](<../../assets/images/BlogPics/2023-11-26 20_51_43-Command Prompt.png>)

### List open ports

```bash
netstat -ano | findstr /i listening
```

![Alt text](<../../assets/images/BlogPics/2023-11-26 20_54_23-Command Prompt.png>)

### Get file permissions

```bash
icacls flag.txt
```

![Alt text](<../../assets/images/BlogPics/2023-11-26 20_59_02-Command Prompt.png>)

### List startup programs

```bash
 wmic startup list brief
```

![Alt text](<../../assets/images/BlogPics/2023-11-26 21_13_24-Command Prompt.png>)

### List running services

```bash
sc query type=service
```

![Alt text](<../../assets/images/BlogPics/2023-11-26 21_16_50-Command Prompt.png>)

<br/>

# Summary

Every penetration tester should be fluent with the Windows command prompt since various commands could be used in different stages of a penetration test like domain recon and post exploitation. That's why being fluent in CMD is a must for pentesters.

---

That was the end of the blog, thanks for reading, I hope you learnt something new.

<p>Happy Hacking!</p>